---
import {
  getShortestTalkDuration,
  getSlotsAvaliable,
  type Block,
} from "../utils/schedule";
import Track from "./Track.astro";

interface Props {
  block: Block;
}

const { block } = Astro.props;
---

{
  block.tracks.map((track) => {
    if (block.tracks[0].length > 1) {
      return (
        <Track
          track={track}
          numberOfRows={getSlotsAvaliable(block)}
          shortestTime={getShortestTalkDuration(block)}
        />
      );
    } else {
      return (
        <Track
          track={track}
          numberOfRows={1}
          shortestTime={getShortestTalkDuration(block)}
        />
      );
    }
  })
}
