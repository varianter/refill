---
import { Image } from "astro:assets";
import { getSpeakerImageSrc } from "../../utils/speakerImages";
import { SpeakerName } from "../../utils/speakers";

interface Props {
  speakerName: SpeakerName | SpeakerName[];
}

const { speakerName } = Astro.props;

function isArray(speakerName: SpeakerName | SpeakerName[]) {
  return Array.isArray(speakerName);
}
---

<div class="render_speaker_image">
  {
    isArray(speakerName) ? (
      speakerName.map((name) => {
        return (
          <Image
            class="render_speaker_image__speaker_img"
            layout="responsive"
            src={getSpeakerImageSrc(name)}
            height={355}
            width={338}
            alt=""
          />
        );
      })
    ) : (
      <Image
        class="render_speaker_image__speaker_img"
        layout="responsive"
        src={getSpeakerImageSrc(speakerName)}
        height={355}
        width={338}
        alt=""
      />
    )
  }
</div>

<style>
  .render_speaker_image {
    max-width: 338px;

    grid-area: img;
    justify-self: end;
    display: flex;
  }

  .render_speaker_image > img {
    height: 355px;
    min-width: 0;
  }

  .render_speaker_image:has(> img:only-child) > img {
    border-radius: 10px;
  }

  .render_speaker_image:has(> img:nth-child(2)) > img:first-child {
    border-top-left-radius: 10px;
    border-bottom-left-radius: 10px;
  }

  .render_speaker_image:has(> img:nth-child(2)) > img:last-child {
    border-top-right-radius: 10px;
    border-bottom-right-radius: 10px;
  }
</style>
